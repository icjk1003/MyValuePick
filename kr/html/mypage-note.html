<section id="section-messages" class="mypage-content card hidden">
    <h2 class="section-title">내 쪽지함</h2>
    
    <div class="msg-tabs" id="note-tabs">
        <button type="button" class="msg-tab-btn active" data-tab="inbox">받은 쪽지</button>
        <button type="button" class="msg-tab-btn" data-tab="sent">보낸 쪽지</button>
        <button type="button" class="msg-tab-btn" data-tab="archive">보관함</button>
        <button type="button" class="msg-tab-btn write-mode" data-tab="write">
            <span style="font-size:16px">✍️</span> 쪽지 쓰기
        </button>
    </div>

    <div id="msgListArea" class="msg-list-wrap">
        
        <div class="msg-toolbar-flex">
            <div class="msg-search-group">
                <select id="msgSearchType" class="search-select">
                    <option value="all">전체</option>
                    <option value="sender">보낸사람</option>
                    <option value="content">내용</option>
                </select>
                <input type="text" id="msgSearchKeyword" class="search-input" placeholder="검색어 입력">
                <button type="button" id="btnMsgSearch" class="btn-small">검색</button>
            </div>

            <div class="btn-group">
                <button type="button" class="btn-action delete" data-action="delete">🗑️ 삭제</button>
                <button type="button" class="btn-action" data-action="archive">📦 보관</button>
                <button type="button" class="btn-action" data-action="report">🚨 신고</button>
                <button type="button" class="btn-action" data-action="reply">↩️ 답장</button>
            </div>
        </div>

        <table class="msg-table">
            <colgroup>
                <col width="5%">
                <col width="15%">
                <col width="*">
                <col width="20%">
            </colgroup>
            <thead>
                <tr>
                    <th><input type="checkbox" id="checkAllMsg"></th>
                    <th>보낸사람</th>
                    <th>내용</th>
                    <th>날짜</th>
                </tr>
            </thead>
            <tbody id="msgListBody">
                </tbody>
        </table>
        
        <div id="msgEmpty" class="empty-msg hidden">쪽지가 없습니다.</div>

        <div id="msgPagination" class="pagination-area"></div>
    </div>

    <div id="msgViewArea" class="msg-view-wrap hidden">
        <div class="msg-view-header">
            <button type="button" id="btnBackToList" class="btn-back-list">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                목록으로
            </button>

            <div class="msg-view-utils">
                <button type="button" class="btn-action" id="btnViewReply">↩️ 답장</button>
                <button type="button" class="btn-action delete" id="btnViewDelete">🗑️ 삭제</button>
                <button type="button" class="btn-action" id="btnViewArchive">📦 보관</button>
            </div>
        </div>
        <div class="msg-view-content">
            <div class="msg-meta">
                <span class="sender" id="viewSender">보낸사람</span>
                <span class="date" id="viewDate">날짜</span>
            </div>
            <div class="msg-body" id="viewBody">내용</div>
        </div>
    </div>

    <div id="msgWriteArea" class="msg-write-wrap hidden">
        <div class="form-row">
            <label for="msgReceiver">받는 사람</label>
            <input type="text" id="msgReceiver" class="input-edit" placeholder="닉네임 입력">
        </div>
        <div class="form-row">
            <label for="msgContent">내용</label>
            <textarea id="msgContent" class="input-edit" style="height: 300px; resize: none; line-height: 1.6;" placeholder="내용을 입력하세요"></textarea>
        </div>
        <div class="btn-area">
            <button type="button" id="btnWriteCancel" class="btn-cancel">취소</button>
            <button type="button" id="btnWriteSend" class="btn-save">보내기</button>
        </div>
    </div>
</section>